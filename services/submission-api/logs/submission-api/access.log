{"@timestamp":"2025-08-20T18:51:12.154+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 200 - GET /health - 127.0.0.1:52252 - curl/7.81.0","duration":"0.1ms","level":"info","span":"4073124e3a4c2466","trace":"9a214578e22c1f43eff2c447d425d577"}
{"@timestamp":"2025-08-20T18:51:12.180+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 400 - POST /api/v1/submissions - 127.0.0.1:52256 - curl/7.81.0","duration":"0.1ms","level":"info","span":"5fbcf162a2a14f43","trace":"2dd2ab16c46b10d2f77d1053d5dddc14"}
{"@timestamp":"2025-08-20T18:51:12.204+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 400 - GET /api/v1/submissions/1 - 127.0.0.1:52272 - curl/7.81.0","duration":"0.2ms","level":"info","span":"6792f8e9063cf662","trace":"bbb8f7a266078555dc2ed10b1a6627bd"}
{"@timestamp":"2025-08-20T18:51:12.223+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 400 - GET /api/v1/submissions - 127.0.0.1:52288 - curl/7.81.0","duration":"0.1ms","level":"info","span":"6d9afdae6c5f7a2c","trace":"7a750bb084a3e99a85feee4242d95364"}
{"@timestamp":"2025-08-20T18:51:12.242+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 400 - GET /api/v1/submissions?page=1\u0026page_size=10 - 127.0.0.1:52294 - curl/7.81.0","duration":"0.1ms","level":"info","span":"6c557f0e40004515","trace":"31d49a7993ca563a5dad42680be2d82b"}
{"@timestamp":"2025-08-20T18:51:12.260+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 400 - GET /api/v1/submissions/99999 - 127.0.0.1:52296 - curl/7.81.0","duration":"0.1ms","level":"info","span":"6a40c01a8fea4484","trace":"ab752e1cebb96708104855af989b4eb4"}
{"@timestamp":"2025-08-20T18:51:12.280+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 400 - POST /api/v1/submissions - 127.0.0.1:52308 - curl/7.81.0","duration":"0.1ms","level":"info","span":"6c67c6bb222f5826","trace":"821615cdd1ee59cae664651e64a9289e"}
{"@timestamp":"2025-08-20T18:51:12.308+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 400 - GET /ws/submissions/1/status - 127.0.0.1:52324 - curl/7.81.0","duration":"0.1ms","level":"info","span":"35623187791e6d1a","trace":"d18ea04646f7f86e203c20456dcaffe9"}
{"@timestamp":"2025-08-20T18:52:47.914+08:00","caller":"proc/shutdown.go:58","content":"Got signal 15, shutting down...","level":"info"}
{"@timestamp":"2025-08-20T18:53:54.226+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 200 - GET /health - 127.0.0.1:35066 - curl/7.81.0","duration":"0.1ms","level":"info","span":"04c8af0c8aebc886","trace":"93a804aa70fe6ded0905510c870cf079"}
{"@timestamp":"2025-08-20T18:53:54.254+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 400 - POST /api/v1/submissions - 127.0.0.1:35080 - curl/7.81.0","duration":"0.2ms","level":"info","span":"1fd238213d8e6b92","trace":"02855625fc7f3ae09f0e826f95160287"}
{"@timestamp":"2025-08-20T18:53:54.315+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 400 - GET /api/v1/submissions/1 - 127.0.0.1:35096 - curl/7.81.0","duration":"33.9ms","level":"info","span":"3cbbbf78b9342902","trace":"be69800a3612afc1a32aa9bf2435bcc0"}
{"@timestamp":"2025-08-20T18:53:54.346+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 400 - GET /api/v1/submissions - 127.0.0.1:35100 - curl/7.81.0","duration":"0.1ms","level":"info","span":"ad2a8eb3fcdc8673","trace":"34b92a1f6a0c6dea1dcf16a0400f0456"}
{"@timestamp":"2025-08-20T18:53:54.371+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 400 - GET /api/v1/submissions?page=1\u0026page_size=10 - 127.0.0.1:35116 - curl/7.81.0","duration":"0.2ms","level":"info","span":"0edba5f1730dec6c","trace":"22f110187a8b569ca5b094bded92f649"}
{"@timestamp":"2025-08-20T18:53:54.409+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 400 - GET /api/v1/submissions/99999 - 127.0.0.1:35130 - curl/7.81.0","duration":"4.9ms","level":"info","span":"2a5f1986bea3328f","trace":"317304099ac18128aebe1c78ff7cdbfa"}
{"@timestamp":"2025-08-20T18:53:54.430+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 400 - POST /api/v1/submissions - 127.0.0.1:35146 - curl/7.81.0","duration":"0.1ms","level":"info","span":"cb441b2edfb9092d","trace":"30d67a4ba7019a8bb3b66b2928184264"}
{"@timestamp":"2025-08-20T18:53:54.456+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 400 - GET /ws/submissions/1/status - 127.0.0.1:35162 - curl/7.81.0","duration":"0.1ms","level":"info","span":"4949b5f6a3d504e7","trace":"a8b82e2b1471dd1c9c23772c064e525a"}
{"@timestamp":"2025-08-20T18:56:50.406+08:00","caller":"proc/shutdown.go:58","content":"Got signal 15, shutting down...","level":"info"}
{"@timestamp":"2025-08-20T19:01:12.580+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 200 - GET /health - 127.0.0.1:34878 - curl/7.81.0","duration":"0.5ms","level":"info","span":"838dabb5963749d1","trace":"c2b1edecebf1340e910e744508c90f9e"}
{"@timestamp":"2025-08-20T19:01:12.597+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 400 - POST /api/v1/submissions - 127.0.0.1:34892 - curl/7.81.0","duration":"0.3ms","level":"info","span":"23e30dd75bd00cca","trace":"3d3144415635decbf7d4f3b87778c631"}
{"@timestamp":"2025-08-20T19:01:12.692+08:00","caller":"sqlx/stmt.go:133","content":"sql query: select `id`,`user_id`,`problem_id`,`contest_id`,`language`,`code`,`status`,`result`,`compile_info`,`score`,`time_used`,`memory_used`,`code_length`,`is_shared`,`ip_address`,`user_agent`,`error_message`,`judged_at`,`created_at`,`updated_at` from `submissions` where `id` = 1 limit 1","duration":"65.2ms","level":"info","span":"a88e1c9517fd1721","trace":"db8a4c16fca4df0c03526690b8abcae2"}
{"@timestamp":"2025-08-20T19:01:12.693+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 400 - GET /api/v1/submissions/1 - 127.0.0.1:34896 - curl/7.81.0","duration":"80.1ms","level":"info","span":"5fe1a9c9d30efe04","trace":"db8a4c16fca4df0c03526690b8abcae2"}
{"@timestamp":"2025-08-20T19:01:12.723+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 400 - GET /api/v1/submissions - 127.0.0.1:34902 - curl/7.81.0","duration":"0.1ms","level":"info","span":"817583abf9be6331","trace":"9ee84af8106ba1b3996fe6fc96c8a721"}
{"@timestamp":"2025-08-20T19:01:12.747+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 400 - GET /api/v1/submissions?page=1\u0026page_size=10 - 127.0.0.1:34910 - curl/7.81.0","duration":"0.1ms","level":"info","span":"a90b7ee3e97b32ed","trace":"bfd6c044e92a3fbca83651b82b143ae3"}
{"@timestamp":"2025-08-20T19:01:12.771+08:00","caller":"sqlx/stmt.go:133","content":"sql query: select `id`,`user_id`,`problem_id`,`contest_id`,`language`,`code`,`status`,`result`,`compile_info`,`score`,`time_used`,`memory_used`,`code_length`,`is_shared`,`ip_address`,`user_agent`,`error_message`,`judged_at`,`created_at`,`updated_at` from `submissions` where `id` = 99999 limit 1","duration":"0.4ms","level":"info","span":"a3ed0c3af6e4423b","trace":"12dd1413d98e6ec3335a9deffd92d4a2"}
{"@timestamp":"2025-08-20T19:01:12.771+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 400 - GET /api/v1/submissions/99999 - 127.0.0.1:34916 - curl/7.81.0","duration":"1.0ms","level":"info","span":"378426def584d193","trace":"12dd1413d98e6ec3335a9deffd92d4a2"}
{"@timestamp":"2025-08-20T19:01:12.790+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 400 - POST /api/v1/submissions - 127.0.0.1:34932 - curl/7.81.0","duration":"0.1ms","level":"info","span":"46f57173e132adcf","trace":"28b248511f25ff8c94c597426b92e50f"}
{"@timestamp":"2025-08-20T19:01:12.815+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 400 - GET /ws/submissions/1/status - 127.0.0.1:34934 - curl/7.81.0","duration":"0.1ms","level":"info","span":"44d13e4ae4457a7d","trace":"0177643d4021913f1f902939fe2a3684"}
{"@timestamp":"2025-08-20T19:01:41.322+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 400 - POST /api/v1/submissions - 127.0.0.1:49346 - curl/7.81.0","duration":"0.1ms","level":"info","span":"a0c203e6f1b3361c","trace":"016239727fb6c6a7a4c5a4f42987c4ce"}
{"@timestamp":"2025-08-20T19:02:04.609+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 400 - POST /api/v1/submissions - 127.0.0.1:60524 - curl/7.81.0","duration":"0.1ms","level":"info","span":"303c7928808a4496","trace":"150ebfe4e0de5557b7b186de60cc3219"}
{"@timestamp":"2025-08-20T19:03:01.291+08:00","caller":"proc/shutdown.go:58","content":"Got signal 15, shutting down...","level":"info"}
{"@timestamp":"2025-08-20T19:03:31.600+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 400 - POST /api/v1/submissions - 127.0.0.1:40952 - curl/7.81.0","duration":"21.9ms","level":"info","span":"697a5e1894e1b5b8","trace":"185ee07293141f630db3a0beb153608a"}
{"@timestamp":"2025-08-20T19:03:52.338+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 400 - POST /api/v1/submissions - 127.0.0.1:48424 - curl/7.81.0","duration":"0.3ms","level":"info","span":"881165bde2bc73cc","trace":"2f1d9f8b5392ea82bf01ae4f24b87e21"}
{"@timestamp":"2025-08-20T19:06:17.209+08:00","caller":"proc/shutdown.go:58","content":"Got signal 15, shutting down...","level":"info"}
{"@timestamp":"2025-08-20T19:08:45.400+08:00","caller":"sqlx/stmt.go:133","content":"sql exec: INSERT INTO submissions (user_id, problem_id, contest_id, language, code, code_length, status, created_at) VALUES (1001, 1001, , 'cpp', '#include\u003ciostream\u003e\\nint main(){return 0;}', 40, 'pending', NOW())","duration":"100.4ms","level":"info","span":"3e36e4a27abd5be7","trace":"cb4a0d78955034e188dc3390e3fa163e"}
{"@timestamp":"2025-08-20T19:08:45.580+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 499 - POST /api/v1/submissions - 127.0.0.1:60034 - curl/7.81.0","duration":"355.9ms","level":"info","span":"d02d3378049f26d5","trace":"cb4a0d78955034e188dc3390e3fa163e"}
{"@timestamp":"2025-08-20T19:09:48.695+08:00","caller":"sqlx/stmt.go:133","content":"sql exec: INSERT INTO submissions (user_id, problem_id, contest_id, language, code, code_length, status, created_at) VALUES (1001, 1001, , 'cpp', 'int main(){return 0;}', 21, 'pending', NOW())","duration":"17.2ms","level":"info","span":"4657271a8c6078fc","trace":"b232dadd2171c531a8a368c0819e0b31"}
{"@timestamp":"2025-08-20T19:09:48.695+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 400 - POST /api/v1/submissions - 127.0.0.1:36076 - curl/7.81.0","duration":"17.5ms","level":"info","span":"c70b9f832da8cf4f","trace":"b232dadd2171c531a8a368c0819e0b31"}
{"@timestamp":"2025-08-20T19:10:29.760+08:00","caller":"proc/shutdown.go:58","content":"Got signal 15, shutting down...","level":"info"}
{"@timestamp":"2025-08-20T19:10:55.845+08:00","caller":"sqlx/stmt.go:133","content":"sql exec: INSERT INTO submissions (user_id, problem_id, contest_id, language, code, code_length, status, created_at) VALUES (1001, 1001, , 'cpp', 'int main(){return 0;}', 21, 'pending', NOW())","duration":"14.1ms","level":"info","span":"4d558e92adcd5320","trace":"475c88a04e7059229f8e44f0843c5bab"}
{"@timestamp":"2025-08-20T19:10:55.889+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 400 - POST /api/v1/submissions - 127.0.0.1:41128 - curl/7.81.0","duration":"76.4ms","level":"info","span":"f6832e0570a6ae44","trace":"475c88a04e7059229f8e44f0843c5bab"}
{"@timestamp":"2025-08-20T19:11:03.782+08:00","caller":"sqlx/stmt.go:133","content":"sql exec: INSERT INTO submissions (user_id, problem_id, contest_id, language, code, code_length, status, created_at) VALUES (1001, 1001, , 'cpp', 'int main(){return 0;}', 21, 'pending', NOW())","duration":"4.0ms","level":"info","span":"31b430d3970c9a41","trace":"36267ba49052f3fc6e791e380dc5f9ca"}
{"@timestamp":"2025-08-20T19:11:03.782+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 400 - POST /api/v1/submissions - 127.0.0.1:44564 - curl/7.81.0","duration":"4.3ms","level":"info","span":"ec3a068c8d3e5f3d","trace":"36267ba49052f3fc6e791e380dc5f9ca"}
{"@timestamp":"2025-08-20T19:11:41.220+08:00","caller":"proc/shutdown.go:58","content":"Got signal 15, shutting down...","level":"info"}
{"@timestamp":"2025-08-20T19:11:56.516+08:00","caller":"submission/createsubmissionlogic.go:31","content":"开始处理创建提交请求: ProblemID=1001, Language=cpp","level":"info","span":"3d6158bac770f9bb","trace":"960bf790458e33ceaf97212a824dd88c"}
{"@timestamp":"2025-08-20T19:11:56.516+08:00","caller":"submission/createsubmissionlogic.go:41","content":"使用模拟用户: UserID=1001, Username=test_user","level":"info","span":"3d6158bac770f9bb","trace":"960bf790458e33ceaf97212a824dd88c"}
{"@timestamp":"2025-08-20T19:11:56.516+08:00","caller":"submission/createsubmissionlogic.go:65","content":"准备插入数据库","level":"info","span":"3d6158bac770f9bb","trace":"960bf790458e33ceaf97212a824dd88c"}
{"@timestamp":"2025-08-20T19:11:56.516+08:00","caller":"submission/createsubmissionlogic.go:76","content":"执行SQL插入: UserID=1001, ProblemID=1001, ContestID=\u003cnil\u003e, Language=cpp, CodeLength=21","level":"info","span":"3d6158bac770f9bb","trace":"960bf790458e33ceaf97212a824dd88c"}
{"@timestamp":"2025-08-20T19:11:56.610+08:00","caller":"sqlx/stmt.go:133","content":"sql exec: INSERT INTO submissions (user_id, problem_id, contest_id, language, code, code_length, status, created_at) VALUES (1001, 1001, , 'cpp', 'int main(){return 0;}', 21, 'pending', NOW())","duration":"43.0ms","level":"info","span":"d1b8f7ea219e32a5","trace":"960bf790458e33ceaf97212a824dd88c"}
{"@timestamp":"2025-08-20T19:11:56.610+08:00","caller":"submission/createsubmissionlogic.go:91","content":"数据库插入成功","level":"info","span":"3d6158bac770f9bb","trace":"960bf790458e33ceaf97212a824dd88c"}
{"@timestamp":"2025-08-20T19:11:56.610+08:00","caller":"submission/createsubmissionlogic.go:124","content":"用户 test_user 提交代码成功, 提交ID: 5, 题目ID: 1001, 语言: cpp","level":"info","span":"3d6158bac770f9bb","trace":"960bf790458e33ceaf97212a824dd88c"}
{"@timestamp":"2025-08-20T19:11:56.610+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 200 - POST /api/v1/submissions - 127.0.0.1:50188 - curl/7.81.0","duration":"94.2ms","level":"info","span":"3d6158bac770f9bb","trace":"960bf790458e33ceaf97212a824dd88c"}
{"@timestamp":"2025-08-20T19:12:16.471+08:00","caller":"submission/createsubmissionlogic.go:31","content":"开始处理创建提交请求: ProblemID=1001, Language=cpp","level":"info","span":"d56740ae62560f2f","trace":"f3b150c4201aa64e9d45667f24633d11"}
{"@timestamp":"2025-08-20T19:12:16.471+08:00","caller":"submission/createsubmissionlogic.go:41","content":"使用模拟用户: UserID=1001, Username=test_user","level":"info","span":"d56740ae62560f2f","trace":"f3b150c4201aa64e9d45667f24633d11"}
{"@timestamp":"2025-08-20T19:12:16.471+08:00","caller":"submission/createsubmissionlogic.go:65","content":"准备插入数据库","level":"info","span":"d56740ae62560f2f","trace":"f3b150c4201aa64e9d45667f24633d11"}
{"@timestamp":"2025-08-20T19:12:16.471+08:00","caller":"submission/createsubmissionlogic.go:76","content":"执行SQL插入: UserID=1001, ProblemID=1001, ContestID=\u003cnil\u003e, Language=cpp, CodeLength=21","level":"info","span":"d56740ae62560f2f","trace":"f3b150c4201aa64e9d45667f24633d11"}
{"@timestamp":"2025-08-20T19:12:16.479+08:00","caller":"sqlx/stmt.go:133","content":"sql exec: INSERT INTO submissions (user_id, problem_id, contest_id, language, code, code_length, status, created_at) VALUES (1001, 1001, , 'cpp', 'int main(){return 0;}', 21, 'pending', NOW())","duration":"7.9ms","level":"info","span":"c3259c9cd659ced8","trace":"f3b150c4201aa64e9d45667f24633d11"}
{"@timestamp":"2025-08-20T19:12:16.479+08:00","caller":"submission/createsubmissionlogic.go:91","content":"数据库插入成功","level":"info","span":"d56740ae62560f2f","trace":"f3b150c4201aa64e9d45667f24633d11"}
{"@timestamp":"2025-08-20T19:12:16.479+08:00","caller":"submission/createsubmissionlogic.go:124","content":"用户 test_user 提交代码成功, 提交ID: 6, 题目ID: 1001, 语言: cpp","level":"info","span":"d56740ae62560f2f","trace":"f3b150c4201aa64e9d45667f24633d11"}
{"@timestamp":"2025-08-20T19:12:16.479+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 200 - POST /api/v1/submissions - 127.0.0.1:45650 - curl/7.81.0","duration":"8.2ms","level":"info","span":"d56740ae62560f2f","trace":"f3b150c4201aa64e9d45667f24633d11"}
{"@timestamp":"2025-08-20T19:12:35.225+08:00","caller":"sqlx/stmt.go:133","content":"sql query: select `id`,`user_id`,`problem_id`,`contest_id`,`language`,`code`,`status`,`result`,`compile_info`,`score`,`time_used`,`memory_used`,`code_length`,`is_shared`,`ip_address`,`user_agent`,`error_message`,`judged_at`,`created_at`,`updated_at` from `submissions` where `id` = 6 limit 1","duration":"1.9ms","level":"info","span":"dc87fe2fd2a123d6","trace":"2c6c104cf3fdb69bd4af64121d997857"}
{"@timestamp":"2025-08-20T19:12:35.225+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 400 - GET /api/v1/submissions/6 - 127.0.0.1:57670 - curl/7.81.0","duration":"6.6ms","level":"info","span":"5d109046a43b38d9","trace":"2c6c104cf3fdb69bd4af64121d997857"}
{"@timestamp":"2025-08-20T19:13:13.341+08:00","caller":"proc/shutdown.go:58","content":"Got signal 15, shutting down...","level":"info"}
{"@timestamp":"2025-08-20T19:19:30.491+08:00","caller":"proc/shutdown.go:58","content":"Got signal 2, shutting down...","level":"info"}
{"@timestamp":"2025-08-20T19:37:48.026+08:00","caller":"proc/shutdown.go:58","content":"Got signal 2, shutting down...","level":"info"}
{"@timestamp":"2025-08-20T19:43:41.292+08:00","caller":"sqlx/stmt.go:133","content":"sql query: SELECT id, user_id, problem_id, contest_id, language, code, status, time_used, memory_used, score, created_at, judged_at FROM submissions WHERE id = 6","duration":"37.6ms","level":"info","span":"d33e4c6db3b4cae6","trace":"4d8aaf5dd9f0a0424df9189b1b3fbc79"}
{"@timestamp":"2025-08-20T19:43:41.294+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 400 - GET /api/v1/submissions/6 - 127.0.0.1:34814 - curl/7.81.0","duration":"84.8ms","level":"info","span":"70e82b130cfb3406","trace":"4d8aaf5dd9f0a0424df9189b1b3fbc79"}
{"@timestamp":"2025-08-20T19:49:30.565+08:00","caller":"proc/shutdown.go:58","content":"Got signal 15, shutting down...","level":"info"}
{"@timestamp":"2025-08-20T19:54:27.972+08:00","caller":"submission/getsubmissionlogic.go:51","content":"查询提交记录，ID: 6","level":"info","span":"f0175bbc4e592a29","trace":"ee680f6634ee549cb2f9878a559c7e45"}
{"@timestamp":"2025-08-20T19:54:28.060+08:00","caller":"sqlx/stmt.go:133","content":"sql query: select `id`,`user_id`,`problem_id`,`contest_id`,`language`,`code`,`status`,`result`,`compile_info`,`score`,`time_used`,`memory_used`,`code_length`,`is_shared`,`ip_address`,`user_agent`,`error_message`,`judged_at`,`created_at`,`updated_at` from `submissions` where `id` = 6 limit 1","duration":"14.8ms","level":"info","span":"7a6173954a7b08c8","trace":"ee680f6634ee549cb2f9878a559c7e45"}
{"@timestamp":"2025-08-20T19:54:28.061+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 200 - GET /api/v1/submissions/6 - 127.0.0.1:42112 - curl/7.81.0","duration":"89.9ms","level":"info","span":"f0175bbc4e592a29","trace":"ee680f6634ee549cb2f9878a559c7e45"}
{"@timestamp":"2025-08-20T19:54:37.105+08:00","caller":"submission/getsubmissionlogic.go:51","content":"查询提交记录，ID: 6","level":"info","span":"ca3215f7405c6732","trace":"a8970f4d7e8d8d8b2dce442dd0715a50"}
{"@timestamp":"2025-08-20T19:54:37.107+08:00","caller":"sqlx/stmt.go:133","content":"sql query: select `id`,`user_id`,`problem_id`,`contest_id`,`language`,`code`,`status`,`result`,`compile_info`,`score`,`time_used`,`memory_used`,`code_length`,`is_shared`,`ip_address`,`user_agent`,`error_message`,`judged_at`,`created_at`,`updated_at` from `submissions` where `id` = 6 limit 1","duration":"0.7ms","level":"info","span":"4857c5d8b6c356f9","trace":"a8970f4d7e8d8d8b2dce442dd0715a50"}
{"@timestamp":"2025-08-20T19:54:37.107+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 200 - GET /api/v1/submissions/6 - 127.0.0.1:51104 - curl/7.81.0","duration":"2.6ms","level":"info","span":"ca3215f7405c6732","trace":"a8970f4d7e8d8d8b2dce442dd0715a50"}
{"@timestamp":"2025-08-20T19:58:42.041+08:00","caller":"proc/shutdown.go:58","content":"Got signal 15, shutting down...","level":"info"}
{"@timestamp":"2025-08-20T20:01:26.252+08:00","caller":"submission/getsubmissionlogic.go:51","content":"查询提交记录，ID: 6","level":"info","span":"7574ac51bfea2c37","trace":"6a0907b86f4993fd4b35f29a3fc8ab30"}
{"@timestamp":"2025-08-20T20:01:26.330+08:00","caller":"sqlx/stmt.go:133","content":"sql query: select `id`,`user_id`,`problem_id`,`contest_id`,`language`,`code`,`status`,`result`,`compile_info`,`score`,`time_used`,`memory_used`,`code_length`,`is_shared`,`ip_address`,`user_agent`,`error_message`,`judged_at`,`created_at`,`updated_at` from `submissions` where `id` = 6 limit 1","duration":"17.8ms","level":"info","span":"e80e82f58ee72990","trace":"6a0907b86f4993fd4b35f29a3fc8ab30"}
{"@timestamp":"2025-08-20T20:01:26.331+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 200 - GET /api/v1/submissions/6 - 127.0.0.1:49508 - curl/7.81.0","duration":"79.8ms","level":"info","span":"7574ac51bfea2c37","trace":"6a0907b86f4993fd4b35f29a3fc8ab30"}
{"@timestamp":"2025-08-20T20:03:19.360+08:00","caller":"proc/shutdown.go:58","content":"Got signal 15, shutting down...","level":"info"}
{"@timestamp":"2025-08-20T20:05:57.258+08:00","caller":"submission/getsubmissionlogic.go:52","content":"开始查询提交记录，ID: 6","level":"info","span":"e63b07cf66722a9c","trace":"482bb1cdbcc72b7095d3a64c700dd446"}
{"@timestamp":"2025-08-20T20:05:57.258+08:00","caller":"submission/getsubmissionlogic.go:62","content":"数据库连接正常","level":"info","span":"e63b07cf66722a9c","trace":"482bb1cdbcc72b7095d3a64c700dd446"}
{"@timestamp":"2025-08-20T20:05:57.258+08:00","caller":"submission/getsubmissionlogic.go:72","content":"SubmissionModel正常","level":"info","span":"e63b07cf66722a9c","trace":"482bb1cdbcc72b7095d3a64c700dd446"}
{"@timestamp":"2025-08-20T20:05:57.258+08:00","caller":"submission/getsubmissionlogic.go:75","content":"调用SubmissionModel.FindOne，参数 ID=6","level":"info","span":"e63b07cf66722a9c","trace":"482bb1cdbcc72b7095d3a64c700dd446"}
{"@timestamp":"2025-08-20T20:05:57.385+08:00","caller":"sqlx/stmt.go:133","content":"sql query: select `id`,`user_id`,`problem_id`,`contest_id`,`language`,`code`,`code_length`,`status`,`time_used`,`memory_used`,`score`,`compile_info`,`runtime_info`,`test_case_results`,`judge_server`,`ip_address`,`created_at`,`judged_at` from `submissions` where `id` = 6 limit 1","duration":"39.5ms","level":"info","span":"e9f1a0406659d2a7","trace":"482bb1cdbcc72b7095d3a64c700dd446"}
{"@timestamp":"2025-08-20T20:05:57.397+08:00","caller":"submission/getsubmissionlogic.go:95","content":"成功查询到提交记录: ID=6","level":"info","span":"e63b07cf66722a9c","trace":"482bb1cdbcc72b7095d3a64c700dd446"}
{"@timestamp":"2025-08-20T20:05:57.397+08:00","caller":"submission/getsubmissionlogic.go:122","content":"成功查询到提交记录: ID=6, Status=pending","level":"info","span":"e63b07cf66722a9c","trace":"482bb1cdbcc72b7095d3a64c700dd446"}
{"@timestamp":"2025-08-20T20:05:57.397+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 200 - GET /api/v1/submissions/6 - 127.0.0.1:43318 - curl/7.81.0","duration":"139.6ms","level":"info","span":"e63b07cf66722a9c","trace":"482bb1cdbcc72b7095d3a64c700dd446"}
{"@timestamp":"2025-08-20T20:06:25.038+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 400 - GET /api/v1/submissions?page=1\u0026page_size=5 - 127.0.0.1:47938 - curl/7.81.0","duration":"0.3ms","level":"info","span":"b4a99baf79792b04","trace":"bedfaef018b3bc43e07902272ff434e1"}
{"@timestamp":"2025-08-20T20:06:54.119+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 400 - GET /api/v1/submissions - 127.0.0.1:46168 - curl/7.81.0","duration":"0.1ms","level":"info","span":"388253ccfecd8140","trace":"b6875e2cd40dba40a78f0b10a59e0db4"}
{"@timestamp":"2025-08-20T20:08:28.784+08:00","caller":"proc/shutdown.go:58","content":"Got signal 15, shutting down...","level":"info"}
{"@timestamp":"2025-08-20T20:10:24.644+08:00","caller":"submission/getsubmissionlistlogic.go:31","content":"GetSubmissionList请求参数: Page=1, PageSize=20, ProblemID=0, Status=, Language=, UserID=0","level":"info","span":"4c416b320be22abe","trace":"d8df0348bc6ef50129e78223c6b4767c"}
{"@timestamp":"2025-08-20T20:10:24.730+08:00","caller":"sqlx/stmt.go:133","content":"sql query: SELECT COUNT(*) FROM `submissions` ","duration":"33.4ms","level":"info","span":"5572eb65e5f0610b","trace":"d8df0348bc6ef50129e78223c6b4767c"}
{"@timestamp":"2025-08-20T20:10:24.739+08:00","caller":"sqlx/stmt.go:133","content":"sql query: SELECT `id`,`user_id`,`problem_id`,`contest_id`,`language`,`code`,`code_length`,`status`,`time_used`,`memory_used`,`score`,`compile_info`,`runtime_info`,`test_case_results`,`judge_server`,`ip_address`,`created_at`,`judged_at` FROM `submissions`  ORDER BY created_at DESC LIMIT 20 OFFSET 0","duration":"7.4ms","level":"info","span":"2595f7b9207ec277","trace":"d8df0348bc6ef50129e78223c6b4767c"}
{"@timestamp":"2025-08-20T20:10:24.739+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 200 - GET /api/v1/submissions - 127.0.0.1:54022 - curl/7.81.0","duration":"95.1ms","level":"info","span":"4c416b320be22abe","trace":"d8df0348bc6ef50129e78223c6b4767c"}
{"@timestamp":"2025-08-20T20:10:45.520+08:00","caller":"submission/getsubmissionlistlogic.go:31","content":"GetSubmissionList请求参数: Page=1, PageSize=20, ProblemID=0, Status=, Language=, UserID=0","level":"info","span":"e0fc89a5fed07040","trace":"53d70a723a1fb7133813749262200f5a"}
{"@timestamp":"2025-08-20T20:10:45.522+08:00","caller":"sqlx/stmt.go:133","content":"sql query: SELECT COUNT(*) FROM `submissions` ","duration":"2.2ms","level":"info","span":"61f6e4a751ce0781","trace":"53d70a723a1fb7133813749262200f5a"}
{"@timestamp":"2025-08-20T20:10:45.524+08:00","caller":"sqlx/stmt.go:133","content":"sql query: SELECT `id`,`user_id`,`problem_id`,`contest_id`,`language`,`code`,`code_length`,`status`,`time_used`,`memory_used`,`score`,`compile_info`,`runtime_info`,`test_case_results`,`judge_server`,`ip_address`,`created_at`,`judged_at` FROM `submissions`  ORDER BY created_at DESC LIMIT 20 OFFSET 0","duration":"1.7ms","level":"info","span":"1a12383d99f2c186","trace":"53d70a723a1fb7133813749262200f5a"}
{"@timestamp":"2025-08-20T20:10:45.525+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 200 - GET /api/v1/submissions - 127.0.0.1:57014 - curl/7.81.0","duration":"4.6ms","level":"info","span":"e0fc89a5fed07040","trace":"53d70a723a1fb7133813749262200f5a"}
{"@timestamp":"2025-08-20T20:11:22.741+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 200 - GET /health - 127.0.0.1:46318 - curl/7.81.0","duration":"0.1ms","level":"info","span":"f38a59d59574dcd3","trace":"b3d03c75c39fdf7d4f4bc1fae69d4882"}
{"@timestamp":"2025-08-20T20:11:22.762+08:00","caller":"submission/createsubmissionlogic.go:31","content":"开始处理创建提交请求: ProblemID=1001, Language=cpp","level":"info","span":"56cbbf9cbc131c25","trace":"872cd7b651f4b0b8061d4f9478926288"}
{"@timestamp":"2025-08-20T20:11:22.762+08:00","caller":"submission/createsubmissionlogic.go:41","content":"使用模拟用户: UserID=1001, Username=test_user","level":"info","span":"56cbbf9cbc131c25","trace":"872cd7b651f4b0b8061d4f9478926288"}
{"@timestamp":"2025-08-20T20:11:22.762+08:00","caller":"submission/createsubmissionlogic.go:65","content":"准备插入数据库","level":"info","span":"56cbbf9cbc131c25","trace":"872cd7b651f4b0b8061d4f9478926288"}
{"@timestamp":"2025-08-20T20:11:22.762+08:00","caller":"submission/createsubmissionlogic.go:76","content":"执行SQL插入: UserID=1001, ProblemID=1001, ContestID=\u003cnil\u003e, Language=cpp, CodeLength=127","level":"info","span":"56cbbf9cbc131c25","trace":"872cd7b651f4b0b8061d4f9478926288"}
{"@timestamp":"2025-08-20T20:11:22.793+08:00","caller":"sqlx/stmt.go:133","content":"sql exec: INSERT INTO submissions (user_id, problem_id, contest_id, language, code, code_length, status, created_at) VALUES (1001, 1001, , 'cpp', '#include\u003ciostream\u003e\\nusing namespace std;\\nint main(){\\n    int a, b;\\n    cin \u003e\u003e a \u003e\u003e b;\\n    cout \u003c\u003c a + b \u003c\u003c endl;\\n    return 0;\\n}', 127, 'pending', NOW())","duration":"30.4ms","level":"info","span":"4385580aa19b44cb","trace":"872cd7b651f4b0b8061d4f9478926288"}
{"@timestamp":"2025-08-20T20:11:22.793+08:00","caller":"submission/createsubmissionlogic.go:91","content":"数据库插入成功","level":"info","span":"56cbbf9cbc131c25","trace":"872cd7b651f4b0b8061d4f9478926288"}
{"@timestamp":"2025-08-20T20:11:22.793+08:00","caller":"submission/createsubmissionlogic.go:124","content":"用户 test_user 提交代码成功, 提交ID: 7, 题目ID: 1001, 语言: cpp","level":"info","span":"56cbbf9cbc131c25","trace":"872cd7b651f4b0b8061d4f9478926288"}
{"@timestamp":"2025-08-20T20:11:22.793+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 200 - POST /api/v1/submissions - 127.0.0.1:46328 - curl/7.81.0","duration":"31.9ms","level":"info","span":"56cbbf9cbc131c25","trace":"872cd7b651f4b0b8061d4f9478926288"}
{"@timestamp":"2025-08-20T20:11:22.810+08:00","caller":"submission/getsubmissionlogic.go:52","content":"开始查询提交记录，ID: 1","level":"info","span":"7e15e56b402dafd7","trace":"ba7ec773c8f97a429ea76f578636f3e6"}
{"@timestamp":"2025-08-20T20:11:22.810+08:00","caller":"submission/getsubmissionlogic.go:62","content":"数据库连接正常","level":"info","span":"7e15e56b402dafd7","trace":"ba7ec773c8f97a429ea76f578636f3e6"}
{"@timestamp":"2025-08-20T20:11:22.810+08:00","caller":"submission/getsubmissionlogic.go:72","content":"SubmissionModel正常","level":"info","span":"7e15e56b402dafd7","trace":"ba7ec773c8f97a429ea76f578636f3e6"}
{"@timestamp":"2025-08-20T20:11:22.810+08:00","caller":"submission/getsubmissionlogic.go:75","content":"调用SubmissionModel.FindOne，参数 ID=1","level":"info","span":"7e15e56b402dafd7","trace":"ba7ec773c8f97a429ea76f578636f3e6"}
{"@timestamp":"2025-08-20T20:11:22.833+08:00","caller":"sqlx/stmt.go:133","content":"sql query: select `id`,`user_id`,`problem_id`,`contest_id`,`language`,`code`,`code_length`,`status`,`time_used`,`memory_used`,`score`,`compile_info`,`runtime_info`,`test_case_results`,`judge_server`,`ip_address`,`created_at`,`judged_at` from `submissions` where `id` = 1 limit 1","duration":"20.4ms","level":"info","span":"916987fa76654c60","trace":"ba7ec773c8f97a429ea76f578636f3e6"}
{"@timestamp":"2025-08-20T20:11:22.843+08:00","caller":"submission/getsubmissionlogic.go:95","content":"成功查询到提交记录: ID=1","level":"info","span":"7e15e56b402dafd7","trace":"ba7ec773c8f97a429ea76f578636f3e6"}
{"@timestamp":"2025-08-20T20:11:22.843+08:00","caller":"submission/getsubmissionlogic.go:122","content":"成功查询到提交记录: ID=1, Status=pending","level":"info","span":"7e15e56b402dafd7","trace":"ba7ec773c8f97a429ea76f578636f3e6"}
{"@timestamp":"2025-08-20T20:11:22.844+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 200 - GET /api/v1/submissions/1 - 127.0.0.1:46340 - curl/7.81.0","duration":"33.3ms","level":"info","span":"7e15e56b402dafd7","trace":"ba7ec773c8f97a429ea76f578636f3e6"}
{"@timestamp":"2025-08-20T20:11:22.863+08:00","caller":"submission/getsubmissionlistlogic.go:31","content":"GetSubmissionList请求参数: Page=1, PageSize=20, ProblemID=0, Status=, Language=, UserID=0","level":"info","span":"cd8d5e4701536868","trace":"f7cdb6b3315a444ae4beccce64b6faaa"}
{"@timestamp":"2025-08-20T20:11:22.864+08:00","caller":"sqlx/stmt.go:133","content":"sql query: SELECT COUNT(*) FROM `submissions` ","duration":"0.7ms","level":"info","span":"dde53437eb5ecde4","trace":"f7cdb6b3315a444ae4beccce64b6faaa"}
{"@timestamp":"2025-08-20T20:11:22.866+08:00","caller":"sqlx/stmt.go:133","content":"sql query: SELECT `id`,`user_id`,`problem_id`,`contest_id`,`language`,`code`,`code_length`,`status`,`time_used`,`memory_used`,`score`,`compile_info`,`runtime_info`,`test_case_results`,`judge_server`,`ip_address`,`created_at`,`judged_at` FROM `submissions`  ORDER BY created_at DESC LIMIT 20 OFFSET 0","duration":"1.2ms","level":"info","span":"37324cb154e5147b","trace":"f7cdb6b3315a444ae4beccce64b6faaa"}
{"@timestamp":"2025-08-20T20:11:22.866+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 200 - GET /api/v1/submissions - 127.0.0.1:46342 - curl/7.81.0","duration":"3.0ms","level":"info","span":"cd8d5e4701536868","trace":"f7cdb6b3315a444ae4beccce64b6faaa"}
{"@timestamp":"2025-08-20T20:11:22.884+08:00","caller":"submission/getsubmissionlistlogic.go:31","content":"GetSubmissionList请求参数: Page=1, PageSize=10, ProblemID=0, Status=, Language=, UserID=0","level":"info","span":"06dc4bda6112e80c","trace":"6ef455ed8a4446456d82a50d2b20982d"}
{"@timestamp":"2025-08-20T20:11:22.885+08:00","caller":"sqlx/stmt.go:133","content":"sql query: SELECT COUNT(*) FROM `submissions` ","duration":"0.9ms","level":"info","span":"c28f0660d4233900","trace":"6ef455ed8a4446456d82a50d2b20982d"}
{"@timestamp":"2025-08-20T20:11:22.886+08:00","caller":"sqlx/stmt.go:133","content":"sql query: SELECT `id`,`user_id`,`problem_id`,`contest_id`,`language`,`code`,`code_length`,`status`,`time_used`,`memory_used`,`score`,`compile_info`,`runtime_info`,`test_case_results`,`judge_server`,`ip_address`,`created_at`,`judged_at` FROM `submissions`  ORDER BY created_at DESC LIMIT 10 OFFSET 0","duration":"1.0ms","level":"info","span":"6d2ea66a8c35b715","trace":"6ef455ed8a4446456d82a50d2b20982d"}
{"@timestamp":"2025-08-20T20:11:22.886+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 200 - GET /api/v1/submissions?page=1\u0026page_size=10 - 127.0.0.1:46358 - curl/7.81.0","duration":"2.3ms","level":"info","span":"06dc4bda6112e80c","trace":"6ef455ed8a4446456d82a50d2b20982d"}
{"@timestamp":"2025-08-20T20:11:22.907+08:00","caller":"submission/getsubmissionlogic.go:52","content":"开始查询提交记录，ID: 99999","level":"info","span":"7dfc24551ade56d4","trace":"c9d958257cef213b7077fa37e0a04630"}
{"@timestamp":"2025-08-20T20:11:22.907+08:00","caller":"submission/getsubmissionlogic.go:62","content":"数据库连接正常","level":"info","span":"7dfc24551ade56d4","trace":"c9d958257cef213b7077fa37e0a04630"}
{"@timestamp":"2025-08-20T20:11:22.907+08:00","caller":"submission/getsubmissionlogic.go:72","content":"SubmissionModel正常","level":"info","span":"7dfc24551ade56d4","trace":"c9d958257cef213b7077fa37e0a04630"}
{"@timestamp":"2025-08-20T20:11:22.907+08:00","caller":"submission/getsubmissionlogic.go:75","content":"调用SubmissionModel.FindOne，参数 ID=99999","level":"info","span":"7dfc24551ade56d4","trace":"c9d958257cef213b7077fa37e0a04630"}
{"@timestamp":"2025-08-20T20:11:22.911+08:00","caller":"sqlx/stmt.go:133","content":"sql query: select `id`,`user_id`,`problem_id`,`contest_id`,`language`,`code`,`code_length`,`status`,`time_used`,`memory_used`,`score`,`compile_info`,`runtime_info`,`test_case_results`,`judge_server`,`ip_address`,`created_at`,`judged_at` from `submissions` where `id` = 99999 limit 1","duration":"3.3ms","level":"info","span":"9e2e11c0bb75f0c9","trace":"c9d958257cef213b7077fa37e0a04630"}
{"@timestamp":"2025-08-20T20:11:22.912+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 200 - GET /api/v1/submissions/99999 - 127.0.0.1:46364 - curl/7.81.0","duration":"5.4ms","level":"info","span":"7dfc24551ade56d4","trace":"c9d958257cef213b7077fa37e0a04630"}
{"@timestamp":"2025-08-20T20:11:22.932+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 400 - POST /api/v1/submissions - 127.0.0.1:46372 - curl/7.81.0","duration":"0.1ms","level":"info","span":"c60b4e80d62be185","trace":"dcee2b8ad5fcb109e6a016104312344e"}
{"@timestamp":"2025-08-20T20:11:22.951+08:00","caller":"handler/loghandler.go:147","content":"[HTTP] 400 - GET /ws/submissions/1/status - 127.0.0.1:46384 - curl/7.81.0","duration":"0.2ms","level":"info","span":"35bf92d23b38e7ff","trace":"38dd9160a25cac7b1b920ea1bd1cae96"}

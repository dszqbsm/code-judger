# 文件名：env.example
# 用途：在线判题系统环境变量配置模板，为不同部署环境提供配置参考
# 创建日期：2024-01-15
# 版本：v1.0
# 说明：定义所有微服务的连接配置、安全密钥、性能参数等环境变量
# 使用方法：cp env.example .env && vi .env（根据实际环境修改）
#
# 配置分类：
# - 数据库配置：MySQL连接信息和认证
# - 缓存配置：Redis连接和安全设置
# - 消息队列：Kafka集群连接配置
# - 微服务配置：JWT密钥、API端点、超时设置
# - 监控配置：Prometheus、Grafana、Consul连接
# - 系统配置：日志级别、时区、性能参数
#
# 安全提醒：
# - 生产环境必须修改所有默认密码
# - .env文件不应提交到版本控制系统
# - 敏感信息建议使用配置中心或密钥管理服务

# ===========================================
# MySQL 数据库配置
# ===========================================
MYSQL_ROOT_PASSWORD=oj_root_password_change_me
MYSQL_DATABASE=oj_system
MYSQL_USER=oj_user
MYSQL_PASSWORD=oj_password_change_me

# ===========================================
# Redis 配置
# ===========================================
REDIS_PASSWORD=
# 生产环境建议设置密码
# REDIS_PASSWORD=your_redis_password

# ===========================================
# Grafana 配置
# ===========================================
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=oj_grafana_admin_change_me

# ===========================================
# Elasticsearch 配置
# ===========================================
ELASTIC_PASSWORD=
# 生产环境建议设置密码
# ELASTIC_PASSWORD=your_elastic_password

# ===========================================
# 应用配置
# ===========================================
# 环境标识 (development, testing, production)
ENVIRONMENT=development

# JWT 密钥 (生产环境必须修改)
JWT_SECRET=your_jwt_secret_key_change_me

# 系统时区
TZ=Asia/Shanghai

# ===========================================
# 监控配置
# ===========================================
# Prometheus 外部标签
PROMETHEUS_EXTERNAL_LABELS_CLUSTER=oj-development
PROMETHEUS_EXTERNAL_LABELS_ENVIRONMENT=dev

# ===========================================
# 性能调优配置
# ===========================================
# MySQL 内存配置 (根据服务器内存调整)
MYSQL_INNODB_BUFFER_POOL_SIZE=256M
MYSQL_MAX_CONNECTIONS=1000

# Redis 内存限制
REDIS_MAXMEMORY=256mb

# Elasticsearch JVM 内存
ES_JAVA_OPTS=-Xms512m -Xmx512m

# Logstash JVM 内存
LS_JAVA_OPTS=-Xmx256m -Xms256m

# ===========================================
# 开发环境配置
# ===========================================
# 是否启用调试模式
DEBUG=true

# 是否启用 API 文档
ENABLE_SWAGGER=true

# 日志级别 (debug, info, warn, error)
LOG_LEVEL=info

# ===========================================
# 业务配置
# ===========================================
# 判题并发数量
JUDGE_WORKER_COUNT=4

# 判题任务超时时间 (秒)
JUDGE_TIMEOUT=30

# 代码长度限制 (字符)
CODE_MAX_LENGTH=65536
# 文件名：oj-overview.json
# 用途：在线判题系统系统概览监控仪表板配置
# 创建日期：2024-01-15
# 版本：v1.0
# 说明：为在线判题系统定制的Grafana仪表板，提供系统关键指标的实时监控和可视化
# 依赖：Prometheus数据源，系统各服务的metrics接口

## 仪表板内容

### 基础信息
- **标题**: "在线判题系统 - 系统概览"
- **UID**: "oj-overview" - 唯一标识符，用于仪表板引用
- **标签**: ["online-judge", "overview"] - 便于分类和搜索
- **主题**: "dark" - 深色主题，适合长时间监控

### 监控面板

#### 1. HTTP请求速率 (Panel ID: 1)
- **指标**: `rate(http_requests_total[5m])`
- **类型**: 时序图 (timeseries)
- **用途**: 监控各微服务的HTTP请求处理速率
- **显示**: 按服务、方法、路径分组
- **位置**: 左上角 (12x8)

#### 2. 服务状态 (Panel ID: 2)
- **指标**: `up`
- **类型**: 状态值 (stat)
- **用途**: 显示各服务的在线状态
- **阈值**: 0=红色(离线), >0=绿色(在线)
- **位置**: 右上角 (12x8)

#### 3. 内存使用 (Panel ID: 3)
- **指标**: `process_resident_memory_bytes`
- **类型**: 时序图 (timeseries)
- **单位**: bytes
- **用途**: 监控各服务的内存使用情况
- **位置**: 左下角 (12x8)

#### 4. CPU使用率 (Panel ID: 4)
- **指标**: `rate(process_cpu_seconds_total[5m]) * 100`
- **类型**: 时序图 (timeseries)
- **单位**: percent
- **用途**: 监控各服务的CPU使用率
- **位置**: 右下角 (12x8)

### 数据源配置
- **主数据源**: Prometheus
- **访问模式**: proxy - 通过Grafana代理访问
- **自动刷新**: 5秒间隔
- **时间范围**: 过去1小时

### 使用说明
1. 此仪表板自动加载到Grafana中，无需手动导入
2. 通过Grafana UI (http://localhost:3000) 访问
3. 默认显示所有在线判题系统相关服务的监控数据
4. 支持时间范围调整和实时刷新
5. 可以点击面板进行详细查看和调试

### 扩展建议
- 添加业务指标监控（如判题成功率、用户活跃度）
- 配置告警阈值，集成告警通知
- 增加数据库和消息队列专用面板
- 添加性能趋势分析和容量规划面板